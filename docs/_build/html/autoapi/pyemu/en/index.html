

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyemu.en &mdash; pyEMU 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> pyEMU
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyemu.en</span></code></a><ul>
<li><a class="reference internal" href="#module-contents">Module Contents</a><ul>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#pyemu.en.SEED">SEED</a></li>
<li><a class="reference internal" href="#pyemu.en.Loc">Loc</a><ul>
<li><a class="reference internal" href="#pyemu.en.Loc.__getitem__">__getitem__</a></li>
<li><a class="reference internal" href="#pyemu.en.Loc.__setitem__">__setitem__</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.en.Iloc">Iloc</a><ul>
<li><a class="reference internal" href="#pyemu.en.Iloc.__getitem__">__getitem__</a></li>
<li><a class="reference internal" href="#pyemu.en.Iloc.__setitem__">__setitem__</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.en.Ensemble">Ensemble</a><ul>
<li><a class="reference internal" href="#pyemu.en.Ensemble._df">_df</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.pst">pst</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__repr__">__repr__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__str__">__str__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__sub__">__sub__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__mul__">__mul__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__truediv__">__truediv__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__add__">__add__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__pow__">__pow__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.reseed">reseed</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.copy">copy</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.istransformed">istransformed</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.transform">transform</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.back_transform">back_transform</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.__getattr__">__getattr__</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.plot">plot</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.from_binary">from_binary</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.from_csv">from_csv</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.to_csv">to_csv</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.to_binary">to_binary</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.from_dataframe">from_dataframe</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble._gaussian_draw">_gaussian_draw</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble._get_svd_projection_matrix">_get_svd_projection_matrix</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble._get_eigen_projection_matrix">_get_eigen_projection_matrix</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.get_deviations">get_deviations</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.as_pyemu_matrix">as_pyemu_matrix</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.covariance_matrix">covariance_matrix</a></li>
<li><a class="reference internal" href="#pyemu.en.Ensemble.dropna">dropna</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.en.ObservationEnsemble">ObservationEnsemble</a><ul>
<li><a class="reference internal" href="#pyemu.en.ObservationEnsemble.from_gaussian_draw">from_gaussian_draw</a></li>
<li><a class="reference internal" href="#pyemu.en.ObservationEnsemble.phi_vector">phi_vector</a></li>
<li><a class="reference internal" href="#pyemu.en.ObservationEnsemble.add_base">add_base</a></li>
<li><a class="reference internal" href="#pyemu.en.ObservationEnsemble.nonzero">nonzero</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble">ParameterEnsemble</a><ul>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.from_gaussian_draw">from_gaussian_draw</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.from_triangular_draw">from_triangular_draw</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.from_uniform_draw">from_uniform_draw</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.from_mixed_draws">from_mixed_draws</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.from_parfiles">from_parfiles</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.back_transform">back_transform</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.transform">transform</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.add_base">add_base</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.adj_names">adj_names</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.ubnd">ubnd</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.lbnd">lbnd</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.log_indexer">log_indexer</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.fixed_indexer">fixed_indexer</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.project">project</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble.enforce">enforce</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble._enforce_scale">_enforce_scale</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble._enforce_drop">_enforce_drop</a></li>
<li><a class="reference internal" href="#pyemu.en.ParameterEnsemble._enforce_reset">_enforce_reset</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyEMU</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyemu.en</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/autoapi/pyemu/en/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pyemu.en">
<span id="pyemu-en"></span><h1><a class="reference internal" href="../../../pyemu.html#module-pyemu.en" title="pyemu.en"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyemu.en</span></code></a><a class="headerlink" href="#module-pyemu.en" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../pyemu.html#pyemu.en.Loc" title="pyemu.en.Loc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Loc</span></code></a></p></td>
<td><p>thin wrapper around <cite>pandas.DataFrame.loc</cite> to make sure returned type</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../pyemu.html#pyemu.en.Iloc" title="pyemu.en.Iloc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Iloc</span></code></a></p></td>
<td><p>thin wrapper around <cite>pandas.DataFrame.iloc</cite> to make sure returned type</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../pyemu.html#pyemu.en.Ensemble" title="pyemu.en.Ensemble"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Ensemble</span></code></a></p></td>
<td><p>based class for handling ensembles of numeric values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../pyemu.html#pyemu.en.ObservationEnsemble" title="pyemu.en.ObservationEnsemble"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ObservationEnsemble</span></code></a></p></td>
<td><p>Observation noise ensemble in the PEST(++) realm</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../pyemu.html#pyemu.en.ParameterEnsemble" title="pyemu.en.ParameterEnsemble"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParameterEnsemble</span></code></a></p></td>
<td><p>Parameter ensembles in the PEST(++) realm</p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt id="pyemu.en.SEED">
<code class="sig-prename descclassname">pyemu.en.</code><code class="sig-name descname">SEED</code><em class="property"> = 358183147</em><a class="headerlink" href="#pyemu.en.SEED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="pyemu.en.Loc">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.en.</code><code class="sig-name descname">Loc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ensemble</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>thin wrapper around <cite>pandas.DataFrame.loc</cite> to make sure returned type
is <cite>Ensemble</cite> (instead of <cite>pandas.DataFrame)</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ensemble</strong> (<cite>pyemu.Ensemble</cite>) – an ensemble instance</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users do not need to mess with this class - it is added
to each <cite>Ensemble</cite> instance</p>
</div>
<dl class="py method">
<dt id="pyemu.en.Loc.__getitem__">
<code class="sig-name descname">__getitem__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Loc.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Loc.__setitem__">
<code class="sig-name descname">__setitem__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">idx</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Loc.__setitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pyemu.en.Iloc">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.en.</code><code class="sig-name descname">Iloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ensemble</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Iloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>thin wrapper around <cite>pandas.DataFrame.iloc</cite> to make sure returned type
is <cite>Ensemble</cite> (instead of <cite>pandas.DataFrame)</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ensemble</strong> (<cite>pyemu.Ensemble</cite>) – an ensemble instance</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users do not need to mess with this class - it is added
to each <cite>Ensemble</cite> instance</p>
</div>
<dl class="py method">
<dt id="pyemu.en.Iloc.__getitem__">
<code class="sig-name descname">__getitem__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Iloc.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Iloc.__setitem__">
<code class="sig-name descname">__setitem__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">idx</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Iloc.__setitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pyemu.en.Ensemble">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.en.</code><code class="sig-name descname">Ensemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">istransformed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>based class for handling ensembles of numeric values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>df</strong> (<cite>pandas.DataFrame</cite>) – a pandas dataframe.  Columns
should be parameter/observation names.  Index is
treated as realization names</p></li>
<li><p><strong>istransformed</strong> (<cite>bool</cite>) – flag to indicate parameter values
are in log space.  Not used for <cite>ObservationEnsemble</cite></p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="pyemu.en.Ensemble._df">
<code class="sig-name descname">_df</code><a class="headerlink" href="#pyemu.en.Ensemble._df" title="Permalink to this definition">¶</a></dt>
<dd><p>the underlying dataframe that stores the realized values</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.en.Ensemble.pst">
<code class="sig-name descname">pst</code><a class="headerlink" href="#pyemu.en.Ensemble.pst" title="Permalink to this definition">¶</a></dt>
<dd><p>control file instance</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><cite>pyemu.Pst</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__sub__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__truediv__">
<code class="sig-name descname">__truediv__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__add__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__pow__">
<code class="sig-name descname">__pow__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">pow</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__pow__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.reseed">
<em class="property">static </em><code class="sig-name descname">reseed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.reseed" title="Permalink to this definition">¶</a></dt>
<dd><p>reset the <cite>numpy.random.seed</cite></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>reseeds using the pyemu.en.SEED global variable</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of <cite>Ensemble</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>copy of this <cite>Ensemble</cite></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>Ensemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>copies both <cite>Ensemble.pst</cite> and <cite>Ensemble._df</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.istransformed">
<em class="property">property </em><code class="sig-name descname">istransformed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.istransformed" title="Permalink to this definition">¶</a></dt>
<dd><p>the parameter transformation status</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>flag to indicate whether or not the <cite>ParameterEnsemble</cite> is
transformed with respect to log_{10}.  Not used for (and has no effect
on) <cite>ObservationEnsemble</cite>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>bool</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>parameter transformation status is only related to log_{10} and does not
include the effects of <cite>scale</cite> and/or <cite>offset</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>transform parameters with respect to <cite>partrans</cite> value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>operates in place (None is returned).</p>
<p>Parameter transform is only related to log_{10} and does not
include the effects of <cite>scale</cite> and/or <cite>offset</cite></p>
<p><cite>Ensemble.transform() is only provided for inhertance purposes.
It only changes the `Ensemble._transformed</cite> flag</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.back_transform">
<code class="sig-name descname">back_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.back_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>back transform parameters with respect to <cite>partrans</cite> value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>operates in place (None is returned).</p>
<p>Parameter transform is only related to log_{10} and does not
include the effects of <cite>scale</cite> and/or <cite>offset</cite></p>
<p><cite>Ensemble.back_transform() is only provided for inhertance purposes.
It only changes the `Ensemble._transformed</cite> flag</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.__getattr__">
<code class="sig-name descname">__getattr__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.__getattr__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">facecolor</span><span class="o">=</span><span class="default_value">'0.5'</span></em>, <em class="sig-param"><span class="n">plot_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">'ensemble.pdf'</span></em>, <em class="sig-param"><span class="n">func_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot ensemble histograms to multipage pdf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> (<cite>int</cite>) – number of bins for the histograms</p></li>
<li><p><strong>facecolor</strong> (<cite>str</cite>) – matplotlib color (e.g. <cite>r</cite>,`g`, etc)</p></li>
<li><p><strong>plot_cols</strong> ([<cite>str</cite>]) – list of subset of ensemble columns to plot.
If None, all are plotted. Default is None</p></li>
<li><p><strong>filename</strong> (<cite>str</cite>) – multipage pdf filename. Default is “ensemble.pdf”</p></li>
<li><p><strong>func_dict</strong> (<cite>dict</cite>) – a dict of functions to apply to specific
columns. For example: {“par1”: np.log10}</p></li>
<li><p><strong>**kwargs</strong> (<cite>dict</cite>) – addkeyword args to pass to <cite>pyemu.plot_utils.ensemble_helper()</cite></p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">pe</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span> <span class="c1"># plot log space (if needed)</span>
<span class="n">pe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.from_binary">
<em class="property">classmethod </em><code class="sig-name descname">from_binary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.from_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>create an <cite>Ensemble</cite> from a PEST-style binary file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>filename</strong> (<cite>str</cite>) – filename containing binary ensemble</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the ensembled loaded from the binary file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>Ensemble</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">oe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_binary</span><span class="p">(</span><span class="s2">&quot;obs.jcb&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.from_csv">
<em class="property">classmethod </em><code class="sig-name descname">from_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.from_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>create an <cite>Ensemble</cite> from a CSV file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>filename</strong> (<cite>str</cite>) – filename containing CSV ensemble</p></li>
<li><p><strong>(</strong><strong>[</strong><strong>object</strong><strong>]</strong> (<em>*args</em>) – positional arguments to pass to
<cite>pandas.read_csv()</cite>.</p></li>
<li><p><strong>(</strong><strong>{str</strong> (<em>**kwargs</em>) – <cite>object</cite>}): keyword arguments to pass
to <cite>pandas.read_csv()</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>Ensemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>uses <cite>pandas.read_csv()</cite> to load numeric values from
CSV file</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">oe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="s2">&quot;obs.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.to_csv">
<code class="sig-name descname">to_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>write <cite>Ensemble</cite> to a CSV file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<cite>str</cite>) – file to write</p></li>
<li><p><strong>(</strong><strong>[</strong><strong>object</strong><strong>]</strong> (<em>*args</em>) – positional arguments to pass to
<cite>pandas.DataFrame.to_csv()</cite>.</p></li>
<li><p><strong>(</strong><strong>{str</strong> (<em>**kwargs</em>) – <cite>object</cite>}): keyword arguments to pass
to <cite>pandas.DataFrame.to_csv()</cite>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">oe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">oe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;obs.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>back transforms <cite>ParameterEnsemble</cite> before writing so that
values are in arithmatic space</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.to_binary">
<code class="sig-name descname">to_binary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.to_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>write <cite>Ensemble</cite> to a PEST-style binary file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<cite>str</cite>) – file to write</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">oe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">oe</span><span class="o">.</span><span class="n">to_binary</span><span class="p">(</span><span class="s2">&quot;obs.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>back transforms <cite>ParameterEnsemble</cite> before writing so that
values are in arithmatic space</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.from_dataframe">
<em class="property">classmethod </em><code class="sig-name descname">from_dataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">istransformed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.from_dataframe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble._gaussian_draw">
<em class="property">static </em><code class="sig-name descname">_gaussian_draw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cov</span></em>, <em class="sig-param"><span class="n">mean_values</span></em>, <em class="sig-param"><span class="n">num_reals</span></em>, <em class="sig-param"><span class="n">grouper</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">factor</span><span class="o">=</span><span class="default_value">'eigen'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble._gaussian_draw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble._get_svd_projection_matrix">
<em class="property">static </em><code class="sig-name descname">_get_svd_projection_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">maxsing</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">eigthresh</span><span class="o">=</span><span class="default_value">1e-07</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble._get_svd_projection_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble._get_eigen_projection_matrix">
<em class="property">static </em><code class="sig-name descname">_get_eigen_projection_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble._get_eigen_projection_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.get_deviations">
<code class="sig-name descname">get_deviations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">center_on</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.get_deviations" title="Permalink to this definition">¶</a></dt>
<dd><p>get the deviations of the realizations around a certain
point in ensemble space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>center_on</strong> (<cite>str</cite>, optional) – a realization name to use as the centering
point in ensemble space.  If <cite>None</cite>, the mean vector is
treated as the centering point.  Default is None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an ensemble of deviations around the centering point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>Ensemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>deviations are the Euclidean distances from the <cite>center_on</cite> value to
realized values for each column</p>
<p><cite>center_on=None</cite> yields the classic ensemble smoother/ensemble Kalman
filter deviations</p>
<p>Deviations respect log-transformation status.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.as_pyemu_matrix">
<code class="sig-name descname">as_pyemu_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">typ</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.as_pyemu_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>get a <cite>pyemu.Matrix</cite> instance of <cite>Ensemble</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>typ</strong> (<cite>pyemu.Matrix</cite> or <cite>pyemu.Cov</cite>) – the type of matrix to return.
Default is <cite>pyemu.Matrix</cite></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a matrix instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pyemu.Matrix</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">oe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">oe</span><span class="o">.</span><span class="n">add_base</span><span class="p">()</span>
<span class="n">oe_dev</span> <span class="o">=</span> <span class="n">oe</span><span class="o">.</span><span class="n">get_deviations</span><span class="p">(</span><span class="n">center_on</span><span class="o">=</span><span class="s2">&quot;base&quot;</span><span class="p">)</span>
<span class="n">oe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;obs_base_devs.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.covariance_matrix">
<code class="sig-name descname">covariance_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">localizer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_on</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.covariance_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>get a empirical covariance matrix implied by the
correlations between realizations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>localizer</strong> (<cite>pyemu.Matrix</cite>, optional) – a matrix to localize covariates
in the resulting covariance matrix.  Default is None</p></li>
<li><p><strong>center_on</strong> (<cite>str</cite>, optional) – a realization name to use as the centering
point in ensemble space.  If <cite>None</cite>, the mean vector is
treated as the centering point.  Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the empirical (and optionally localized) covariance matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pyemu.Cov</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.Ensemble.dropna">
<code class="sig-name descname">dropna</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.Ensemble.dropna" title="Permalink to this definition">¶</a></dt>
<dd><p>override of <cite>pandas.DataFrame.dropna()</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>[</strong><strong>object</strong><strong>]</strong> (<em>*args</em>) – positional arguments to pass to
<cite>pandas.DataFrame.dropna()</cite>.</p></li>
<li><p><strong>(</strong><strong>{str</strong> (<em>**kwargs</em>) – <cite>object</cite>}): keyword arguments to pass
to <cite>pandas.DataFrame.dropna()</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pyemu.en.ObservationEnsemble">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.en.</code><code class="sig-name descname">ObservationEnsemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">istransformed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ObservationEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../pyemu.html#pyemu.en.Ensemble" title="pyemu.en.Ensemble"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyemu.en.Ensemble</span></code></a></p>
<p>Observation noise ensemble in the PEST(++) realm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>df</strong> (<cite>pandas.DataFrame</cite>) – a pandas dataframe.  Columns
should be observation names.  Index is
treated as realization names</p></li>
<li><p><strong>istransformed</strong> (<cite>bool</cite>) – flag to indicate parameter values
are in log space.  Not used for <cite>ObservationEnsemble</cite></p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">oe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pyemu.en.ObservationEnsemble.from_gaussian_draw">
<em class="property">classmethod </em><code class="sig-name descname">from_gaussian_draw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">cov</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_reals</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">by_groups</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">factor</span><span class="o">=</span><span class="default_value">'eigen'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ObservationEnsemble.from_gaussian_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>generate an <cite>ObservationEnsemble</cite> from a (multivariate) gaussian
distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance.</p></li>
<li><p><strong>cov</strong> (<cite>pyemu.Cov</cite>) – a covariance matrix describing the second
moment of the gaussian distribution.  If None, <cite>cov</cite> is
generated from the non-zero-weighted observation weights in <cite>pst</cite>.
Only observations listed in <cite>cov</cite> are sampled.  Other observations are
assigned the <cite>obsval</cite> value from <cite>pst</cite>.</p></li>
<li><p><strong>num_reals</strong> (<cite>int</cite>) – number of stochastic realizations to generate.  Default
is 100</p></li>
<li><p><strong>by_groups</strong> (<cite>bool</cite>) – flag to generate realzations be observation group.  This
assumes no correlation (covariates) between observation groups.</p></li>
<li><p><strong>fill</strong> (<cite>bool</cite>) – flag to fill in zero-weighted observations with control file
values.  Default is False.</p></li>
<li><p><strong>factor</strong> (<cite>str</cite>) – how to factorize <cite>cov</cite> to form the projectin matrix.  Can
be “eigen” or “svd”. The “eigen” option is default and is faster.  But
for (nearly) singular cov matrices (such as those generated empirically
from ensembles), “svd” is the only way.  Ignored for diagonal <cite>cov</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the realized <cite>ObservationEnsemble</cite> instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>ObservationEnsemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only observations named in <cite>cov</cite> are sampled. Additional, <cite>cov</cite> is processed prior
to sampling to only include non-zero-weighted observations depending on the value of <cite>fill</cite>.
So users must take care to make sure observations have been assigned non-zero weights even if <cite>cov</cite>
is being passed</p>
<p>The default <cite>cov</cite> is generated from <cite>pyemu.Cov.from_observation_data</cite>, which assumes
observation noise standard deviations are the inverse of the weights listed in <cite>pst</cite></p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="c1"># the easiest way - just relying on weights in pst</span>
<span class="n">oe1</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>

<span class="c1"># generate the cov explicitly</span>
<span class="n">cov</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Cov</span><span class="o">.</span><span class="n">from_observation_data</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">oe2</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">,</span><span class="n">cov</span><span class="o">=</span><span class="n">cov</span><span class="p">)</span>

<span class="c1"># give all but one observation zero weight.  This will</span>
<span class="c1"># result in an oe with only one randomly sampled observation noise</span>
<span class="c1"># vector since the cov is processed to remove any zero-weighted</span>
<span class="c1"># observations before sampling</span>
<span class="n">pst</span><span class="o">.</span><span class="n">observation_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pst</span><span class="o">.</span><span class="n">nnz_obs_names</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span><span class="s2">&quot;weight] = 0.0</span>
<span class="n">oe3</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ObservationEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">,</span><span class="n">cov</span><span class="o">=</span><span class="n">cov</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ObservationEnsemble.phi_vector">
<em class="property">property </em><code class="sig-name descname">phi_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ObservationEnsemble.phi_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>vector of L2 norm (phi) for the realizations (rows) of <cite>Ensemble</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>series of realization name (<cite>Ensemble.index</cite>) and phi values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ObservationEnsemble.pst.weights can be updated prior to calling
this method to evaluate new weighting strategies</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ObservationEnsemble.add_base">
<code class="sig-name descname">add_base</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ObservationEnsemble.add_base" title="Permalink to this definition">¶</a></dt>
<dd><p>add the control file <cite>obsval</cite> values as a realization</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>replaces the last realization with the current <cite>ObservationEnsemble.pst.observation_data.obsval</cite> values</dt><dd><p>as a new realization named “base”</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ObservationEnsemble.nonzero">
<em class="property">property </em><code class="sig-name descname">nonzero</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ObservationEnsemble.nonzero" title="Permalink to this definition">¶</a></dt>
<dd><p>get a new <cite>ObservationEnsemble</cite> of just non-zero weighted observations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>non-zero weighted observation ensemble.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>ObservationEnsemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>pst</cite> attribute of the returned <cite>ObservationEnsemble</cite> also only includes
non-zero weighted observations (and is therefore not valid for running
with PEST or PEST++)</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pyemu.en.ParameterEnsemble">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.en.</code><code class="sig-name descname">ParameterEnsemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">istransformed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../pyemu.html#pyemu.en.Ensemble" title="pyemu.en.Ensemble"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyemu.en.Ensemble</span></code></a></p>
<p>Parameter ensembles in the PEST(++) realm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>df</strong> (<cite>pandas.DataFrame</cite>) – a pandas dataframe.  Columns
should be parameter names.  Index is
treated as realization names</p></li>
<li><p><strong>istransformed</strong> (<cite>bool</cite>) – flag to indicate parameter values
are in log space (if <cite>partrans</cite> is “log” in <cite>pst</cite>)</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.from_gaussian_draw">
<em class="property">classmethod </em><code class="sig-name descname">from_gaussian_draw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">cov</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_reals</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">by_groups</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">factor</span><span class="o">=</span><span class="default_value">'eigen'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.from_gaussian_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a <cite>ParameterEnsemble</cite> from a (multivariate) (log) gaussian
distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance.</p></li>
<li><p><strong>cov</strong> (<cite>pyemu.Cov</cite>) – a covariance matrix describing the second
moment of the gaussian distribution.  If None, <cite>cov</cite> is
generated from the bounds of the adjustable parameters in <cite>pst</cite>.
the (log) width of the bounds is assumed to represent a multiple of
the parameter standard deviation (this is the <cite>sigma_range</cite> argument
that can be passed to <cite>pyemu.Cov.from_parameter_data</cite>).</p></li>
<li><p><strong>num_reals</strong> (<cite>int</cite>) – number of stochastic realizations to generate.  Default
is 100</p></li>
<li><p><strong>by_groups</strong> (<cite>bool</cite>) – flag to generate realzations be parameter group.  This
assumes no correlation (covariates) between parameter groups.  For large
numbers of parameters, this help prevent memories but is slower.</p></li>
<li><p><strong>fill</strong> (<cite>bool</cite>) – flag to fill in fixed and/or tied parameters with control file
values.  Default is True.</p></li>
<li><p><strong>factor</strong> (<cite>str</cite>) – how to factorize <cite>cov</cite> to form the projectin matrix.  Can
be “eigen” or “svd”. The “eigen” option is default and is faster.  But
for (nearly) singular cov matrices (such as those generated empirically
from ensembles), “svd” is the only way.  Ignored for diagonal <cite>cov</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the parameter ensemble realized from the gaussian
distribution</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>ParameterEnsemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only parameters named in <cite>cov</cite> are sampled. Missing parameters are assigned values of
<cite>pst.parameter_data.parval1</cite> along the corresponding columns of <cite>ParameterEnsemble</cite>
according to the value of <cite>fill</cite>.</p>
<p>The default <cite>cov</cite> is generated from <cite>pyemu.Cov.from_observation_data</cite>, which assumes
parameter bounds in <cite>ParameterEnsemble.pst</cite> represent some multiple of parameter
standard deviations.  Additionally, the default Cov only includes adjustable
parameters (<cite>partrans</cite> not “tied” or “fixed”).</p>
<p>“tied” parameters are not sampled.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="c1"># the easiest way - just relying on weights in pst</span>
<span class="n">oe1</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>

<span class="c1"># generate the cov explicitly with a sigma_range</span>
<span class="n">cov</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Cov</span><span class="o">.</span><span class="n">from_parameter_data</span><span class="p">(</span><span class="n">pst</span><span class="p">,</span><span class="n">sigma_range</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">oe2</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">,</span><span class="n">cov</span><span class="o">=</span><span class="n">cov</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.from_triangular_draw">
<em class="property">classmethod </em><code class="sig-name descname">from_triangular_draw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">num_reals</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.from_triangular_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a <cite>ParameterEnsemble</cite> from a (multivariate) (log) triangular distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>num_reals</strong> (<cite>int</cite>, optional) – number of realizations to generate.  Default is 100</p></li>
<li><p><strong>fill</strong> (<cite>bool</cite>) – flag to fill in fixed and/or tied parameters with control file
values.  Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a parameter ensemble drawn from the multivariate (log) triangular
distribution defined by the parameter upper and lower bounds and initial parameter
values in <cite>pst</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>ParameterEnsemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>respects transformation status in <cite>pst</cite>: fixed and tied parameters are not realized,
log-transformed parameters are drawn in log space.  The returned <cite>ParameterEnsemble</cite>
is back transformed (not in log space)</p>
<p>uses numpy.random.triangular</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_triangular_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">pe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;my_tri_pe.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.from_uniform_draw">
<em class="property">classmethod </em><code class="sig-name descname">from_uniform_draw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">num_reals</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.from_uniform_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a <cite>ParameterEnsemble</cite> from a (multivariate) (log) uniform
distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p></li>
<li><p><strong>num_reals</strong> (<cite>int</cite>, optional) – number of realizations to generate.  Default is 100</p></li>
<li><p><strong>fill</strong> (<cite>bool</cite>) – flag to fill in fixed and/or tied parameters with control file
values.  Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a parameter ensemble drawn from the multivariate (log) uniform
distribution defined by the parameter upper and lower bounds <cite>pst</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>ParameterEnsemble</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>respects transformation status in <cite>pst</cite>: fixed and tied parameters are not realized,
log-transformed parameters are drawn in log space.  The returned <cite>ParameterEnsemble</cite>
is back transformed (not in log space)</p>
<p>uses numpy.random.uniform</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_uniform_draw</span><span class="p">(</span><span class="n">pst</span><span class="p">)</span>
<span class="n">pe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;my_uni_pe.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.from_mixed_draws">
<em class="property">classmethod </em><code class="sig-name descname">from_mixed_draws</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">how_dict</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">'gaussian'</span></em>, <em class="sig-param"><span class="n">num_reals</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">cov</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sigma_range</span><span class="o">=</span><span class="default_value">6</span></em>, <em class="sig-param"><span class="n">enforce_bounds</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">partial</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.from_mixed_draws" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a <cite>ParameterEnsemble</cite> using a mixture of
distributions.  Available distributions include (log) “uniform”, (log) “triangular”,
and (log) “gaussian”. log transformation is respected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file</p></li>
<li><p><strong>how_dict</strong> (<cite>dict</cite>) – a dictionary of parameter name keys and
“how” values, where “how” can be “uniform”,”triangular”, or “gaussian”.</p></li>
<li><p><strong>default</strong> (<cite>str</cite>) – the default distribution to use for parameter not listed
in how_dict.  Default is “gaussian”.</p></li>
<li><p><strong>num_reals</strong> (<cite>int</cite>) – number of realizations to draw.  Default is 100.</p></li>
<li><p><strong>cov</strong> (<cite>pyemu.Cov</cite>) – an optional Cov instance to use for drawing from gaussian distribution.
If None, and “gaussian” is listed in <cite>how_dict</cite> (and/or <cite>default</cite>), then a diagonal
covariance matrix is constructed from the parameter bounds in <cite>pst</cite> (with <cite>sigma_range</cite>).
Default is None.</p></li>
<li><p><strong>sigma_range</strong> (<cite>float</cite>) – the number of standard deviations implied by the parameter bounds in the pst.
Only used if “gaussian” is in <cite>how_dict</cite> (and/or <cite>default</cite>) and <cite>cov</cite> is None.  Default is 6.</p></li>
<li><p><strong>enforce_bounds</strong> (<cite>bool</cite>) – flag to enforce parameter bounds in resulting <cite>ParameterEnsemble</cite>. Only
matters if “gaussian” is in values of <cite>how_dict</cite>.  Default is True.</p></li>
<li><p><strong>partial</strong> (<cite>bool</cite>) – flag to allow a partial ensemble (not all pars included).  If True, parameters
not name in <cite>how_dict</cite> will be sampled using the distribution named as <cite>default</cite>.
Default is <cite>False</cite>.</p></li>
<li><p><strong>fill</strong> (<cite>bool</cite>) – flag to fill in fixed and/or tied parameters with control file
values.  Default is True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.from_parfiles">
<em class="property">classmethod </em><code class="sig-name descname">from_parfiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">parfile_names</span></em>, <em class="sig-param"><span class="n">real_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.from_parfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>create a parameter ensemble from PEST-style parameter value files.
Accepts parfiles with less than the parameters in the control
(get NaNs in the ensemble) or extra parameters in the
parfiles (get dropped)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – control file instance</p></li>
<li><p><strong>parfile_names</strong> (<cite>[str</cite>]) – par file names</p></li>
<li><p><strong>real_names</strong> (<cite>str</cite>) – optional list of realization names.
If None, a single integer counter is used</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>parameter ensemble loaded from par files</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>ParameterEnsemble</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.back_transform">
<code class="sig-name descname">back_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.back_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>back transform parameters with respect to <cite>partrans</cite> value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>operates in place (None is returned).</p>
<p>Parameter transform is only related to log_{10} and does not
include the effects of <cite>scale</cite> and/or <cite>offset</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>transform parameters with respect to <cite>partrans</cite> value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>operates in place (None is returned).</p>
<p>Parameter transform is only related to log_{10} and does not
include the effects of <cite>scale</cite> and/or <cite>offset</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.add_base">
<code class="sig-name descname">add_base</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.add_base" title="Permalink to this definition">¶</a></dt>
<dd><p>add the control file <cite>obsval</cite> values as a realization</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>replaces the last realization with the current <cite>ParameterEnsemble.pst.parameter_data.parval1</cite> values
as a new realization named “base”</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.adj_names">
<em class="property">property </em><code class="sig-name descname">adj_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.adj_names" title="Permalink to this definition">¶</a></dt>
<dd><p>the names of adjustable parameters in <cite>ParameterEnsemble</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>adjustable parameter names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.ubnd">
<em class="property">property </em><code class="sig-name descname">ubnd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.ubnd" title="Permalink to this definition">¶</a></dt>
<dd><p>the upper bound vector while respecting current log transform status</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(log-transformed) upper parameter bounds listed in
<cite>ParameterEnsemble.pst.parameter_data.parubnd</cite></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.lbnd">
<em class="property">property </em><code class="sig-name descname">lbnd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.lbnd" title="Permalink to this definition">¶</a></dt>
<dd><p>the lower bound vector while respecting current log transform status</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(log-transformed) lower parameter bounds listed in
<cite>ParameterEnsemble.pst.parameter_data.parlbnd</cite></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.log_indexer">
<em class="property">property </em><code class="sig-name descname">log_indexer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.log_indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean indexer for log transform</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>boolean array indicating which parameters are log
transformed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>numpy.ndarray(bool)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.fixed_indexer">
<em class="property">property </em><code class="sig-name descname">fixed_indexer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.fixed_indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean indexer for non-adjustable parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>boolean array indicating which parameters have
<cite>partrans</cite> equal to “log” or “fixed”</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>numpy.ndarray(bool)</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.project">
<code class="sig-name descname">project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">projection_matrix</span></em>, <em class="sig-param"><span class="n">center_on</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">enforce_bounds</span><span class="o">=</span><span class="default_value">'reset'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.project" title="Permalink to this definition">¶</a></dt>
<dd><p>project the ensemble using the null-space Monte Carlo method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>projection_matrix</strong> (<cite>pyemu.Matrix</cite>) – null-space projection operator.</p></li>
<li><p><strong>center_on</strong> (<cite>str</cite>) – the name of the realization to use as the centering
point for the null-space differening operation.  If <cite>center_on</cite> is <cite>None</cite>,
the <cite>ParameterEnsemble</cite> mean vector is used.  Default is <cite>None</cite></p></li>
<li><p><strong>log</strong> (<cite>pyemu.Logger</cite>, optional) – for logging progress</p></li>
<li><p><strong>enforce_bounds</strong> (<cite>str</cite>) – parameter bound enforcement option to pass to
<cite>ParameterEnsemble.enforce()</cite>.  Valid options are <cite>reset</cite>, <cite>drop</cite>,
<cite>scale</cite> or <cite>None</cite>.  Default is <cite>reset</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>untransformed, null-space projected ensemble.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>ParameterEnsemble</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ev</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ErrVar</span><span class="p">(</span><span class="n">jco</span><span class="o">=</span><span class="s2">&quot;my.jco&quot;</span><span class="p">)</span> <span class="c1">#assumes my.pst exists</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">(</span><span class="n">ev</span><span class="o">.</span><span class="n">pst</span><span class="p">)</span>
<span class="n">pe_proj</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">ev</span><span class="o">.</span><span class="n">get_null_proj</span><span class="p">(</span><span class="n">maxsing</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="n">pe_proj</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;proj_par.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble.enforce">
<code class="sig-name descname">enforce</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">how</span><span class="o">=</span><span class="default_value">'reset'</span></em>, <em class="sig-param"><span class="n">bound_tol</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble.enforce" title="Permalink to this definition">¶</a></dt>
<dd><p>entry point for bounds enforcement.  This gets called for the
draw method(s), so users shouldn’t need to call this</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>enforce_bounds</strong> (<cite>str</cite>) – can be ‘reset’ to reset offending values or ‘drop’ to drop
offending realizations</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pe</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">ParameterEnsemble</span><span class="o">.</span><span class="n">from_gaussian_draw</span><span class="p">()</span>
<span class="n">pe</span><span class="o">.</span><span class="n">enforce</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;scale)</span>
<span class="n">pe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;par.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble._enforce_scale">
<code class="sig-name descname">_enforce_scale</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">bound_tol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble._enforce_scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble._enforce_drop">
<code class="sig-name descname">_enforce_drop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">bound_tol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble._enforce_drop" title="Permalink to this definition">¶</a></dt>
<dd><p>enforce parameter bounds on the ensemble by dropping
violating realizations</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>with a large (realistic) number of parameters, the
probability that any one parameter is out of
bounds is large, meaning most realization will
be dropped.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.en.ParameterEnsemble._enforce_reset">
<code class="sig-name descname">_enforce_reset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">bound_tol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.en.ParameterEnsemble._enforce_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>enforce parameter bounds on the ensemble by resetting
violating vals to bound</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jeremy White, Mike Fienen, Brioch Hemmings, and others

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>